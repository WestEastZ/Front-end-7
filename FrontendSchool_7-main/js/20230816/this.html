<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title></title>
  </head>
  <body>
    <script>
      function a() {
        console.log(this);
      }
      a();
      // window

      let myObj = {
        val1: 100,
        func1() {
          console.log(this);
        },
      };
      // myObj

      myObj.func1();

      let myObj = {
        val1: 100,
        func1: function () {
          console.log(this);
        },
      };

      let test = myObj.func1;
      test(); // this = window
      myObj.func1(); // this = myObj

      // <button id="btn1">클릭해봐요!</button>
      //   <button id="btn2">클릭해봐요!</button>
      //   <script>
      //       let myObj = {
      //           val1: 100,
      //           func1: function () {
      //               console.log(this);
      //           },
      //       };

      //       let test = myObj.func1;

      //       let button1 = document.getElementById("btn1");
      //       button1.addEventListener("click", myObj.func1);
      //       let button2 = document.getElementById("btn2");
      //       button2.addEventListener("click", test);

      // this = button을 가리킨다.

      function sayName() {
        console.log(this.name);
      }

      var name = "Hero";
      // 전역으로 선언한 name 변수의 앞에는 window 가 생략되어 있습니다.
      // 때문에 window.name === "Hero" 가 성립합니다.
      let peter = {
        name: "Peter Parker",
        sayName: sayName,
      };

      let bruce = {
        name: "Bruce Wayne",
        sayName: sayName,
      };

      sayName();
      peter.sayName();
      bruce.sayName();

      /* this 사용 예시 */

      let 호텔 = [
        {
          이름: "하나호텔",
          위치: "제주도 제주시 001",
          가격: { A: 50000, B: 30000, C: 15000 },
          방의개수: 50,
          예약자수: 25,
          남은방의개수: function () {
            return this.방의개수 - this.예약자수;
          },
        },
        {
          이름: "둘호텔",
          위치: "제주도 제주시 002",
          가격: { A: 100000, B: 60000, C: 30000 },
          방의개수: 100,
          예약자수: 30,
          남은방의개수: function () {
            return this.방의개수 - this.예약자수;
          },
        },
        {
          이름: "셋호텔",
          위치: "제주도 제주시 003",
          가격: { A: 80000, B: 50000, C: 30000 },
          방의개수: 120,
          예약자수: 80,
          남은방의개수: function () {
            return this.방의개수 - this.예약자수;
          },
        },
      ];
      console.log(호텔[0].남은방의개수());
      console.log(호텔[1].남은방의개수());
      console.log(호텔[2].남은방의개수());

      // 만들어질 때가 아닌 "실행"될 때 값이 결정
      function sayName() {
        console.log(this.name);
      }
      var name = "Hero";

      let peter = {
        name: "Peter Parker",
        sayName: sayName,
      };

      let bruce = {
        name: "Bruce Wayne",
        sayName: peter.sayName,
      };

      bruce.sayName();
      // Bruce Wayne이 출력
      // 실행되고 있는 객체는 bruce이다.
      // this는 bruce이다.
      // 즉 "실행"한 객체
    </script>
  </body>
</html>
